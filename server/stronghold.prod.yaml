# server/stronghold.prod.yaml
server:
  external_origin: https://dpop-demo.onrender.com  # Update with your actual Render URL
  allowed_origins:                                 # List of allowed origins for multi-domain support
    - https://dpop-demo.onrender.com
    - https://dpop.fun
  ec_private_key_pem_file: /etc/secrets/STRONGHOLD_SERVER_EC_PRIVATE_KEY_PEM 
  ec_private_key_pem: null             # optional: inline PEM (dev only)

db:
  path: /tmp/stronghold.db            # <-- Safe temp path for Python service

session:
  cookie_name: stronghold_session
  same_site: lax
  secret_key: ${SESSION_SECRET}        # Will be set by Render
  dev_allow_insecure_cookie: false     # false in prod

passkeys:
  policy: compat                       # compat | strict
  aaguid_allow_path: null              # e.g. server/aaguid_allow.json
  mds_roots_path: server/mds_roots.json

security:
  skew_sec: 300
  nonce_ttl: 300
  jti_ttl: 60
  bind_ttl: 3600

linking:
  ttl_seconds: 180

logging:
  level: INFO