# server/stronghold.prod.yaml
server:
  external_origin: https://dpop.fun                # e.g. https://dpop.fun in prod; null in dev to infer from Host
  allowed_origins:                                 # List of allowed origins for multi-domain support
    - https://dpop.fun
    - https://stronghold.onrender.com
  ec_private_key_pem_file: /etc/secrets/STRONGHOLD_SERVER_EC_PRIVATE_KEY_PEM 
  ec_private_key_pem: null             # optional: inline PEM (dev only)

db:
  path: /app/data/stronghold.db            # <-- Render disk mount path

session:
  cookie_name: stronghold_session
  same_site: lax
  secret_key: null                     # dev-only default (auto-generated if null)
  dev_allow_insecure_cookie: false      # false in prod

passkeys:
  policy: compat                       # compat | strict
  aaguid_allow_path: null              # e.g. server/aaguid_allow.json
  mds_roots_path: server/mds_roots.json

security:
  skew_sec: 120
  nonce_ttl: 60
  jti_ttl: 60
  bind_ttl: 3600

linking:
  ttl_seconds: 180

logging:
  level: INFO