<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Stronghold Session Binding Demo</title>
  <link rel="stylesheet" href="/public/style.css"/>
</head>
<body>
  <h1>Stronghold Session Binding Demo</h1>
  <div class="row">
    <button id="btn-flush">Server Flush</button>
    <button id="btn-client-flush">Client Flush</button>
  </div>
  <div class="row">
    <button id="btn-sw-register">Register Service Worker</button>
    <button id="btn-sw-unregister">Unregister Service Worker</button>
    <button id="btn-echo-sw">Test SW Session (Echo) (signed)</button>
  </div>
  <div class="row">
  <span id="sw-state"></span>
    <button id="btn-init">1) Init Session</button>
    <button id="btn-bik">2) Register BIK</button>
    <button id="btn-bind">3) Bind DPoP</button>
    <button id="btn-echo-direct">Test session (Echo) (signed)</button>
  </div>
  <div class="row">
    <button id="btn-passkey-check">Passkey: Check Support</button>
    <button id="btn-passkey-register">Passkey: Create & Register</button>
    <button id="btn-passkey-login">Passkey: Authenticate</button>
  </div>


  <script src="/public/qrcode.min.js"></script> 
<button id="btn-link-start">Browser/Mobile Session Link</button>

<div id="link-area" style="display:none; gap:12px; align-items:center;">
  <div id="link-qr"></div>
  <div>
    <div><strong>Scan with your phone:</strong></div>
    <code id="link-url"></code>
    <div>Status: <span id="link-status">pending</span></div>
  </div>
</div>

<pre id="out"></pre>
  <script type="module" src="/public/app.js?v=1"></script>
</body>
</html>
